{% extends "base.html" %}
{% load url from future %}
{% block page_class %}home-page{% endblock %}
{% block content %}
<div class="container">
    <div class="row">
        <h1>
            I want to fucking hack
<a href="#" id="language-select" data-type="select" data-pk="1"  data-original-title="language"></a>.

        
    </h1>
</div><!-- end row-->

<div class="row">

    {% if repo %}
    <a href="{{ repo.url }}"><h2 class='center repo-name'>{{ repo.full_name }}</h2></a>
    <p class="repo-description center">{{ repo.description }}</p>
    {% if repo.language.learn_url %}
        <a href="{% url 'get_repo' repo.language.name %}"><h3>I don't fucking like that</h3></a>

        <a href="{{ repo.language.learn_url }}"><h3>I don't fucking know {{ repo.language.name }}</h3></a>

    {% endif %}
    {% else %}
    <h2>Fuck. No projects in this language.</h2>
    {% endif %}
</div><!-- end row -->
</div> <!-- /container -->

<script>
$(function(){
    var $languageSelect = $('#language-select');
    $languageSelect.editable({
        value: 2,
        showbuttons: false, 
        source: [
            {% for language in all_languages %}
                {value: "{{ language.name }}", text: "{{ language.name }}"},
            {% endfor %}
           ],
        url: function(params){
            var language = params.value;
            document.location.href = '/language/' + language;
        },

        value: "{{ selected }}"
        });
});
</script>
{% endblock %}
